<html>
<head>
    <title>黄磊个人博客</title>
</head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="/blog/Public/Index/css/bootstrap.min.css">

<script src="/blog/Public/Index/js/bootstrap.min.js"></script>

<link rel="shortcut icon" type="image/x-icon" href="/blog/Public/Index/images/icon.ico" media="screen" />
<script src="/blog/Public/Admin/js/jquery-1.9.1.min.js"></script>
<link rel="stylesheet" href="/blog/Public/Index/css/style.css">
<body>
<div class="jumbotron">

    <div class="container header">
        <!-- ===================================header start=============================================== -->
        <div class="col-xs-12">
            <a href="/blog">
                <h1 class="title">黄磊个人博客</h1>
                <p class="title_desc">一个专注于php的小学生</p>
            </a>
        </div>
        <div class="col-xs-12">
            <ul class="nav nav-pills nav-justified">

                <li ><a href="/blog" class="category" title="Home">Home</a></li>
                                <li ><a href="/blog/articles/category/3"  class="category" title="PHP">PHP</a></li><!--  class="active"-->
                                <li ><a href="/blog/articles/category/1"  class="category" title="MySQL">MySQL</a></li><!--  class="active"-->
                                <li class="active"><a href="/blog/articles/category/2"  class="category" title="ThinkPHP">ThinkPHP</a></li><!--  class="active"-->
                                <li ><a href="/blog/articles/category/5"  class="category" title="Js">Js</a></li><!--  class="active"-->
                
            </ul>
        </div>
        <!-- ===================================header end=============================================== -->
        <div class='col-xs-12 location'>
            <h5><span class="glyphicon glyphicon-home"></span> &nbsp;位置 ：<a href="/blog" id="home">Home </a>
                 > <a href=/blog/articles/category/2>ThinkPHP</a> 栏目> 无限级分类，整合成树形结果（非引用“&”）            </h5>
        </div>

        <div class="row">
            <!-- ===================================left article start=============================================== -->

            <div class='col-xs-9 articles'>
    <div class='col-xs-12'>
        <div class='col-xs-12 text-center '>
            <h3>无限级分类，整合成树形结果（非引用“&”）</h3>
            <ul class="list-inline">
                <li><span class="glyphicon glyphicon-edit" title="文章作者"></span> 黄磊</li>
                <li><span class="glyphicon glyphicon-th-list" title="分类"></span> <a href="/blog/articles/category/5">ThinkPHP</a></li>
                <li><span class="glyphicon glyphicon-tag" title="标签"></span>
                    <a href=/blog/articles/tag/6>无限级分类</a>                </li>
                <li><span class="glyphicon glyphicon-time" title="时间"></span> 2017-03-01 12:18:47</li>
            </ul>
        </div>
        <div class='col-xs-12' style="border: 1px solid #FFB90F;padding:20px;background: #FCFCFC;border-radius: 5px;">
            <pre style="background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;Consolas&#39;;font-size:13.2pt;"><span style="color:#cc7832;background-color:#232525;font-weight:bold;">/*<br/>* &nbsp; &nbsp;将无限级分类整合成树形结构，三级菜单<br/>*/<br/><br/>public function </span><span style="color:#ffc66d;background-color:#232525;">getNavCatTree</span><span style="background-color:#232525;">()<br/></span><span style="background-color:#232525;">{<br/></span><span style="background-color:#232525;"> &nbsp; </span><span style="color:#808080;background-color:#232525;">// </span><span style="color:#808080;background-color:#232525;font-family:&#39;宋体&#39;;">取出所有顶级<br/></span><span style="color:#808080;background-color:#232525;font-family:&#39;宋体&#39;;"> &nbsp; </span><span style="color:#9876aa;background-color:#232525;">$data </span><span style="background-color:#232525;">= </span><span style="color:#9876aa;background-color:#232525;">$this</span><span style="background-color:#232525;">-&gt;</span><span style="color:#ffc66d;background-color:#232525;">where</span><span style="background-color:#232525;">(</span><span style="color:#6a8759;background-color:#232525;">&#39;parent_id=0&#39;</span><span style="background-color:#232525;">)-&gt;</span><span style="color:#ffc66d;background-color:#232525;">select</span><span style="background-color:#232525;">()</span><span style="color:#cc7832;background-color:#232525;">;<br/></span><span style="color:#cc7832;background-color:#232525;"> &nbsp; </span><span style="color:#808080;background-color:#232525;">// </span><span style="color:#808080;background-color:#232525;font-family:&#39;宋体&#39;;">循环每个顶级取二级<br/></span><span style="color:#808080;background-color:#232525;font-family:&#39;宋体&#39;;"> &nbsp; </span><span style="color:#cc7832;background-color:#232525;font-weight:bold;">foreach </span><span style="background-color:#232525;">(</span><span style="color:#9876aa;background-color:#232525;">$data </span><span style="color:#cc7832;background-color:#232525;font-weight:bold;">as </span><span style="color:#9876aa;background-color:#232525;">$k </span><span style="background-color:#232525;">=&gt; </span><span style="color:#9876aa;background-color:#232525;">$v</span><span style="background-color:#232525;">)<br/></span><span style="background-color:#232525;"> &nbsp; {<br/></span><span style="background-color:#232525;"><br/></span><span style="background-color:#232525;"> &nbsp; &nbsp; &nbsp;</span><span style="color:#9876aa;background-color:#232525;">$data</span><span style="background-color:#232525;">[</span><span style="color:#9876aa;background-color:#232525;">$k</span><span style="background-color:#232525;">][</span><span style="color:#6a8759;background-color:#232525;">&#39;children&#39;</span><span style="background-color:#232525;">] = </span><span style="color:#9876aa;background-color:#232525;">$this</span><span style="background-color:#232525;">-&gt;</span><span style="color:#ffc66d;background-color:#232525;">where</span><span style="background-color:#232525;">(</span><span style="color:#6a8759;background-color:#232525;">&#39;parent_id=&#39;</span><span style="background-color:#232525;">.</span><span style="color:#9876aa;background-color:#232525;">$v</span><span style="background-color:#232525;">[</span><span style="color:#6a8759;background-color:#232525;">&#39;id&#39;</span><span style="background-color:#232525;">])-&gt;</span><span style="color:#ffc66d;background-color:#232525;">select</span><span style="background-color:#232525;">()</span><span style="color:#cc7832;background-color:#232525;">;<br/></span><span style="color:#cc7832;background-color:#232525;"> &nbsp; &nbsp; &nbsp;</span><span style="color:#808080;background-color:#232525;">// </span><span style="color:#808080;background-color:#232525;font-family:&#39;宋体&#39;;">循环每个二级取三级<br/></span><span style="color:#808080;background-color:#232525;font-family:&#39;宋体&#39;;"> &nbsp; &nbsp; &nbsp;</span><span style="color:#cc7832;background-color:#232525;font-weight:bold;">foreach </span><span style="background-color:#232525;">(</span><span style="color:#9876aa;background-color:#232525;">$data</span><span style="background-color:#232525;">[</span><span style="color:#9876aa;background-color:#232525;">$k</span><span style="background-color:#232525;">][</span><span style="color:#6a8759;background-color:#232525;">&#39;children&#39;</span><span style="background-color:#232525;">] </span><span style="color:#cc7832;background-color:#232525;font-weight:bold;">as </span><span style="color:#9876aa;background-color:#232525;">$k1 </span><span style="background-color:#232525;">=&gt; </span><span style="color:#9876aa;background-color:#232525;">$v1</span><span style="background-color:#232525;">)<br/></span><span style="background-color:#232525;"> &nbsp; &nbsp; &nbsp;{<br/></span><span style="background-color:#232525;"> &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color:#9876aa;background-color:#232525;">$data</span><span style="background-color:#232525;">[</span><span style="color:#9876aa;background-color:#232525;">$k</span><span style="background-color:#232525;">][</span><span style="color:#6a8759;background-color:#232525;">&#39;children&#39;</span><span style="background-color:#232525;">][</span><span style="color:#9876aa;background-color:#232525;">$k1</span><span style="background-color:#232525;">][</span><span style="color:#6a8759;background-color:#232525;">&#39;children&#39;</span><span style="background-color:#232525;">] = </span><span style="color:#9876aa;background-color:#232525;">$this</span><span style="background-color:#232525;">-&gt;</span><span style="color:#ffc66d;background-color:#232525;">where</span><span style="background-color:#232525;">(</span><span style="color:#6a8759;background-color:#232525;">&#39;parent_id=&#39;</span><span style="background-color:#232525;">.</span><span style="color:#9876aa;background-color:#232525;">$v1</span><span style="background-color:#232525;">[</span><span style="color:#6a8759;background-color:#232525;">&#39;id&#39;</span><span style="background-color:#232525;">])-&gt;</span><span style="color:#ffc66d;background-color:#232525;">select</span><span style="background-color:#232525;">()</span><span style="color:#cc7832;background-color:#232525;">;<br/></span><span style="color:#cc7832;background-color:#232525;"> &nbsp; &nbsp; &nbsp;</span><span style="background-color:#232525;">}<br/></span><span style="background-color:#232525;"> &nbsp; }<br/></span><span style="background-color:#232525;"> &nbsp; </span><span style="color:#cc7832;background-color:#232525;font-weight:bold;">return </span><span style="color:#9876aa;background-color:#232525;">$data</span><span style="color:#cc7832;background-color:#232525;">;<br/></span><span style="background-color:#232525;">}</span></pre><p><br/></p>        </div>
    </div>

</div>
            <!-- ===================================left article end=============================================== -->


            <!-- ===================================right start=============================================== -->
            <div class='col-xs-3'>

                <div class="col-xs-12">
                    <h2>标签</h2>
                    <ul  class="list-inline">
                                                <li style="display:inline;line-height:18px;">
                            <label class="middle">
                                <a href="/blog/articles/tag/1" title="Mysql" style="cursor: pointer">
                                    <span class="label" style="background:#5e5ca7;" >Mysql</span>
                                </a>
                            </label>
                        </li>
                                                <li style="display:inline;line-height:18px;">
                            <label class="middle">
                                <a href="/blog/articles/tag/2" title="thinkphp" style="cursor: pointer">
                                    <span class="label" style="background:#9e005c;" >thinkphp</span>
                                </a>
                            </label>
                        </li>
                                                <li style="display:inline;line-height:18px;">
                            <label class="middle">
                                <a href="/blog/articles/tag/3" title="PHP" style="cursor: pointer">
                                    <span class="label" style="background:#8fc63d;" >PHP</span>
                                </a>
                            </label>
                        </li>
                                                <li style="display:inline;line-height:18px;">
                            <label class="middle">
                                <a href="/blog/articles/tag/4" title="Session" style="cursor: pointer">
                                    <span class="label" style="background:#6ccff7;" >Session</span>
                                </a>
                            </label>
                        </li>
                                                <li style="display:inline;line-height:18px;">
                            <label class="middle">
                                <a href="/blog/articles/tag/6" title="无限级分类" style="cursor: pointer">
                                    <span class="label" style="background:#f68e54;" >无限级分类</span>
                                </a>
                            </label>
                        </li>
                                                <li style="display:inline;line-height:18px;">
                            <label class="middle">
                                <a href="/blog/articles/tag/7" title="字符集" style="cursor: pointer">
                                    <span class="label" style="background:#00a650;" >字符集</span>
                                </a>
                            </label>
                        </li>
                                                <li style="display:inline;line-height:18px;">
                            <label class="middle">
                                <a href="/blog/articles/tag/8" title="cookie" style="cursor: pointer">
                                    <span class="label" style="background:#bc8cbf;" >cookie</span>
                                </a>
                            </label>
                        </li>
                                                <li style="display:inline;line-height:18px;">
                            <label class="middle">
                                <a href="/blog/articles/tag/9" title="优化" style="cursor: pointer">
                                    <span class="label" style="background:#fdc68c;" >优化</span>
                                </a>
                            </label>
                        </li>
                                                <li style="display:inline;line-height:18px;">
                            <label class="middle">
                                <a href="/blog/articles/tag/10" title="Js" style="cursor: pointer">
                                    <span class="label" style="background:#a1410d;" >Js</span>
                                </a>
                            </label>
                        </li>
                                                <li style="display:inline;line-height:18px;">
                            <label class="middle">
                                <a href="/blog/articles/tag/11" title="jQuery" style="cursor: pointer">
                                    <span class="label" style="background:#7c4900;" >jQuery</span>
                                </a>
                            </label>
                        </li>
                                            </ul>


                </div>
                <div class="col-xs-12">
                    <h2>最近发布</h2>
                    <ul style="font-weight:bold;color:red;">
                                                <li><a href="/blog/articles/ar/33" style="font-weight:bold;">Js中函数参数设置默认值的方法</a></li>
                                                <li><a href="/blog/articles/ar/32" style="font-weight:bold;">Js判断变量是否存在的方法</a></li>
                                                <li><a href="/blog/articles/ar/31" style="font-weight:bold;">MYSQL添加外键时的注意事项</a></li>
                                                <li><a href="/blog/articles/ar/25" style="font-weight:bold;">thinkphp3.2分页路由</a></li>
                                                <li><a href="/blog/articles/ar/23" style="font-weight:bold;">PHP文件下载</a></li>
                                                <li><a href="/blog/articles/ar/17" style="font-weight:bold;">jQuery按钮倒计时，点击</a></li>
                                                <li><a href="/blog/articles/ar/16" style="font-weight:bold;">无限极分类（传统foreach集合parent_id实现）</a></li>
                                                <li><a href="/blog/articles/ar/13" style="font-weight:bold;">PHP中cookie跨目录、跨域名访问</a></li>
                                                <li><a href="/blog/articles/ar/12" style="font-weight:bold;">mysql 表锁（转）</a></li>
                                                <li><a href="/blog/articles/ar/11" style="font-weight:bold;">php 文件锁（目的：处理并发，如：抢购商品）（转）</a></li>
                        
                    </ul>
                </div>
                <div class="col-xs-12">
                    <h2>阅读排行</h2>
                    <ol style="font-weight:bold;color:green;">
                                                <li><a href="/blog/articles/ar/33" style="font-weight:bold;">Js中函数参数设置默认值的方法</a></li>
                                                <li><a href="/blog/articles/ar/31" style="font-weight:bold;">MYSQL添加外键时的注意事项</a></li>
                                                <li><a href="/blog/articles/ar/10" style="font-weight:bold;">mysql中事务的使用</a></li>
                                                <li><a href="/blog/articles/ar/1" style="font-weight:bold;">sql语句中的union用法，注意！（转）</a></li>
                                                <li><a href="/blog/articles/ar/2" style="font-weight:bold;">php会话ID如何生成以及cookie被禁用后，session的设置</a></li>
                                                <li><a href="/blog/articles/ar/32" style="font-weight:bold;">Js判断变量是否存在的方法</a></li>
                                                <li><a href="/blog/articles/ar/6" style="font-weight:bold;">巧用引用，实现无限极分类（转）</a></li>
                                                <li><a href="/blog/articles/ar/25" style="font-weight:bold;">thinkphp3.2分页路由</a></li>
                                                <li><a href="/blog/articles/ar/16" style="font-weight:bold;">无限极分类（传统foreach集合parent_id实现）</a></li>
                                                <li><a href="/blog/articles/ar/5" style="font-weight:bold;">mysql中GROUP_CONCAT()的用法</a></li>
                                            </ol>
                </div>
            </div>
            <!-- ===================================right end=============================================== -->
        </div>
    </div>
    <!-- ===================================footer start=============================================== -->
    <br /><br /><br />
    <div class="col-xs-12">
        <ul class="list-inline text-center">
            <li>Copyright &copy; 2017<a href="/blog/Admin/index/index" target="_blank">.</a> 版权归 黄磊 本人所有. 备案号：黑ICP17000276号</li>
        </ul>
    </div>
    <!-- ===================================footer end=============================================== -->
</div>
</body>
</html>