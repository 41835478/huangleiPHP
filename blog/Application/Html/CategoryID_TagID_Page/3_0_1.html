<html>
<head>
    <title>黄磊个人博客</title>
</head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="/blog/Public/Index/css/bootstrap.min.css">

<script src="/blog/Public/Index/js/bootstrap.min.js"></script>

<link rel="shortcut icon" type="image/x-icon" href="/blog/Public/Index/images/icon.ico" media="screen" />
<script src="/blog/Public/Admin/js/jquery-1.9.1.min.js"></script>
<link rel="stylesheet" href="/blog/Public/Index/css/style.css">
<body>
<div class="jumbotron">

    <div class="container header">
        <!-- ===================================header start=============================================== -->
        <div class="col-xs-12">
            <a href="/blog">
                <h1 class="title">黄磊个人博客</h1>
                <p class="title_desc">一个专注于php的小学生</p>
            </a>
        </div>
        <div class="col-xs-12">
            <ul class="nav nav-pills nav-justified">

                <li ><a href="/blog" class="category" title="Home">Home</a></li>
                                <li class="active"><a href="/blog/articles/category/3"  class="category" title="PHP">PHP</a></li><!--  class="active"-->
                                <li ><a href="/blog/articles/category/1"  class="category" title="MySQL">MySQL</a></li><!--  class="active"-->
                                <li ><a href="/blog/articles/category/2"  class="category" title="ThinkPHP">ThinkPHP</a></li><!--  class="active"-->
                                <li ><a href="/blog/articles/category/5"  class="category" title="Js">Js</a></li><!--  class="active"-->
                
            </ul>
        </div>
        <!-- ===================================header end=============================================== -->
        <div class='col-xs-12 location'>
            <h5><span class="glyphicon glyphicon-home"></span> &nbsp;位置 ：<a href="/blog" id="home">Home </a>
                 > <a href=/blog/articles/category/3>PHP</a> 栏目            </h5>
        </div>

        <div class="row">
            <!-- ===================================left article start=============================================== -->

            <div class='col-xs-9 articles'>
        <div class='col-xs-12'>
        <h4 class="ar_title"><a href="/blog/articles/category/3/ar/10" title="文章标题：mysql中事务的使用">mysql中事务的使用</a></h4>
        <ul class="list-inline">
            <li><span class="glyphicon glyphicon-eye-open " title="阅读量"></span> 44</li>
            <!--<li><span class="glyphicon glyphicon-thumbs-up" title="点赞数"></span> 点赞：<span class="good">14</span></li>-->
            <li><span class="glyphicon glyphicon-edit" title="文章作者"></span> 黄磊</li>
            <li><span class="glyphicon glyphicon-th-list" title="分类"></span> <a href="/blog/articles/category/3">PHP</a></li>
            <li><span class="glyphicon glyphicon-tag" title="标签"></span>
                <a href=/blog/articles/tag/3>PHP</a>、<a href=/blog/articles/tag/2>thinkphp</a>、<a href=/blog/articles/tag/1>Mysql</a>            </li>
            <li><span class="glyphicon glyphicon-time" title="时间"></span> 2017-03-06 19:54:55</li>
        </ul>
        <p class="lead">php：开启一个事务mysql_query(&quot;START TRANSACTION&quot;);thinkphp : 开启一个事务$model-&gt;startTrans();php : 提交事务 mysql_query(&quot;COMMIT&quot;);thinkphp : 提交事务 $model-&gt;commit();php : 事务回滚 mysql_query(&quot;ROLLBACK&quot;);thinkphp : 事务回滚 $model-&gt;rollb...</p>
    </div>

    <div class='col-xs-12 blockquote'>
        <blockquote>
            <a href="/blog/articles/category/3/ar/10" class="btn btn-success" title="点击阅读全文~"><span class="glyphicon glyphicon-leaf"></span> 阅读全文</a>
            &emsp;
            <a href="javascript:void(0);"  onclick="setLike(this,'10')" class="btn btn-primary" title="赞一下~"><span class="glyphicon glyphicon-thumbs-up"></span>
                <span class="text1">
                    赞一下            </span> (<span class="num2">14</span>)</a>
        </blockquote><!--  onclick="setGood(this,10,0)" -->

    </div>
        <div class='col-xs-12'>
        <h4 class="ar_title"><a href="/blog/articles/category/3/ar/6" title="文章标题：巧用引用，实现无限极分类（转）">巧用引用，实现无限极分类（转）</a></h4>
        <ul class="list-inline">
            <li><span class="glyphicon glyphicon-eye-open " title="阅读量"></span> 15</li>
            <!--<li><span class="glyphicon glyphicon-thumbs-up" title="点赞数"></span> 点赞：<span class="good">12</span></li>-->
            <li><span class="glyphicon glyphicon-edit" title="文章作者"></span> 黄磊</li>
            <li><span class="glyphicon glyphicon-th-list" title="分类"></span> <a href="/blog/articles/category/3">PHP</a></li>
            <li><span class="glyphicon glyphicon-tag" title="标签"></span>
                <a href=/blog/articles/tag/6>无限级分类</a>、<a href=/blog/articles/tag/3>PHP</a>            </li>
            <li><span class="glyphicon glyphicon-time" title="时间"></span> 2017-03-06 19:45:31</li>
        </ul>
        <p class="lead">public function getCatNav($data){ &nbsp; &nbsp; &nbsp; &nbsp;//用数组的id值作为索引 &nbsp; &nbsp;$arr = array_column($data,null,&#39;id&#39;); &nbsp; &nbsp;$tree = array(); &nbsp; &nbsp;foreach($arr as $k =&gt; $v){ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//...</p>
    </div>

    <div class='col-xs-12 blockquote'>
        <blockquote>
            <a href="/blog/articles/category/3/ar/6" class="btn btn-success" title="点击阅读全文~"><span class="glyphicon glyphicon-leaf"></span> 阅读全文</a>
            &emsp;
            <a href="javascript:void(0);"  onclick="setLike(this,'6')" class="btn btn-primary" title="赞一下~"><span class="glyphicon glyphicon-thumbs-up"></span>
                <span class="text1">
                    赞一下            </span> (<span class="num2">12</span>)</a>
        </blockquote><!--  onclick="setGood(this,6,1)" -->

    </div>
        <div class='col-xs-12'>
        <h4 class="ar_title"><a href="/blog/articles/category/3/ar/2" title="文章标题：php会话ID如何生成以及cookie被禁用后，session的设置">php会话ID如何生成以及cookie被禁用后，session的设置</a></h4>
        <ul class="list-inline">
            <li><span class="glyphicon glyphicon-eye-open " title="阅读量"></span> 18</li>
            <!--<li><span class="glyphicon glyphicon-thumbs-up" title="点赞数"></span> 点赞：<span class="good">6</span></li>-->
            <li><span class="glyphicon glyphicon-edit" title="文章作者"></span> 黄磊</li>
            <li><span class="glyphicon glyphicon-th-list" title="分类"></span> <a href="/blog/articles/category/3">PHP</a></li>
            <li><span class="glyphicon glyphicon-tag" title="标签"></span>
                <a href=/blog/articles/tag/4>Session</a>、<a href=/blog/articles/tag/3>PHP</a>            </li>
            <li><span class="glyphicon glyphicon-time" title="时间"></span> 2017-02-27 13:34:38</li>
        </ul>
        <p class="lead">&nbsp; &nbsp; &nbsp;&nbsp;一个访问者访问你的 web 网站将被分配一个唯一的 id, 就是所谓的会话 id. 这个 id 可以存储在用户端的一个 cookie 中，也可以通过 URL 进行传递. Session会话用来追踪每个用户的会话，使用服务器生成的SessionID进行标识，用以区分用户。Session存放在服务器的内存中，SessionID存放在服务器内存和客户机的Cookie里面。这样，当用户发出请求时，服务器将用户Cookie里面记录的SessionID和服...</p>
    </div>

    <div class='col-xs-12 blockquote'>
        <blockquote>
            <a href="/blog/articles/category/3/ar/2" class="btn btn-success" title="点击阅读全文~"><span class="glyphicon glyphicon-leaf"></span> 阅读全文</a>
            &emsp;
            <a href="javascript:void(0);"  onclick="setLike(this,'2')" class="btn btn-primary" title="赞一下~"><span class="glyphicon glyphicon-thumbs-up"></span>
                <span class="text1">
                    赞一下            </span> (<span class="num2">6</span>)</a>
        </blockquote><!--  onclick="setGood(this,2,2)" -->

    </div>
        <div class='col-xs-12'>
        <h4 class="ar_title"><a href="/blog/articles/category/3/ar/11" title="文章标题：php 文件锁（目的：处理并发，如：抢购商品）（转）">php 文件锁（目的：处理并发，如：抢购商品）（转）</a></h4>
        <ul class="list-inline">
            <li><span class="glyphicon glyphicon-eye-open " title="阅读量"></span> 1</li>
            <!--<li><span class="glyphicon glyphicon-thumbs-up" title="点赞数"></span> 点赞：<span class="good">4</span></li>-->
            <li><span class="glyphicon glyphicon-edit" title="文章作者"></span> 黄磊</li>
            <li><span class="glyphicon glyphicon-th-list" title="分类"></span> <a href="/blog/articles/category/3">PHP</a></li>
            <li><span class="glyphicon glyphicon-tag" title="标签"></span>
                <a href=/blog/articles/tag/3>PHP</a>            </li>
            <li><span class="glyphicon glyphicon-time" title="时间"></span> 2017-03-06 19:56:08</li>
        </ul>
        <p class="lead">&lt;?php&nbsp;&nbsp;/**&nbsp;模拟秒杀活动--&nbsp;商品100件&nbsp;CREATE&nbsp;TABLE&nbsp;a&nbsp;(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id&nbsp;int&nbsp;comment&nbsp;&#39;模拟100件活动商品的数量&#39;&nbsp;);&nbsp;INSERT&nbsp;INTO&nbsp;a&nbsp;VALUES(100);&nbsp;模仿：以10的并发量访问这个脚本！&nb...</p>
    </div>

    <div class='col-xs-12 blockquote'>
        <blockquote>
            <a href="/blog/articles/category/3/ar/11" class="btn btn-success" title="点击阅读全文~"><span class="glyphicon glyphicon-leaf"></span> 阅读全文</a>
            &emsp;
            <a href="javascript:void(0);"  onclick="setLike(this,'11')" class="btn btn-primary" title="赞一下~"><span class="glyphicon glyphicon-thumbs-up"></span>
                <span class="text1">
                    赞一下            </span> (<span class="num2">4</span>)</a>
        </blockquote><!--  onclick="setGood(this,11,3)" -->

    </div>
        <div class='col-xs-12'>
        <h4 class="ar_title"><a href="/blog/articles/category/3/ar/13" title="文章标题：PHP中cookie跨目录、跨域名访问">PHP中cookie跨目录、跨域名访问</a></h4>
        <ul class="list-inline">
            <li><span class="glyphicon glyphicon-eye-open " title="阅读量"></span> 0</li>
            <!--<li><span class="glyphicon glyphicon-thumbs-up" title="点赞数"></span> 点赞：<span class="good">0</span></li>-->
            <li><span class="glyphicon glyphicon-edit" title="文章作者"></span> 黄磊</li>
            <li><span class="glyphicon glyphicon-th-list" title="分类"></span> <a href="/blog/articles/category/3">PHP</a></li>
            <li><span class="glyphicon glyphicon-tag" title="标签"></span>
                <a href=/blog/articles/tag/3>PHP</a>、<a href=/blog/articles/tag/8>cookie</a>            </li>
            <li><span class="glyphicon glyphicon-time" title="时间"></span> 2017-03-06 19:58:40</li>
        </ul>
        <p class="lead">setcookie的第四个参数和第五个参数？					&nbsp;第四个参数：跨目录					&nbsp; /a/b.php 中定义了setcookie(&#39;abc&#39;, &#39;abc&#39;);					&nbsp;/c.php 中取 echo $_COOKIE(&#39;abc&#39;); &nbsp; 这里读不出这个cookie，因为php中的cookie只能在定义他的文件所在的目录以及子目录下访问,必须通过设置第四个参数为 /，标记整个网站都可以使用这个cookie	...</p>
    </div>

    <div class='col-xs-12 blockquote'>
        <blockquote>
            <a href="/blog/articles/category/3/ar/13" class="btn btn-success" title="点击阅读全文~"><span class="glyphicon glyphicon-leaf"></span> 阅读全文</a>
            &emsp;
            <a href="javascript:void(0);"  onclick="setLike(this,'13')" class="btn btn-primary" title="赞一下~"><span class="glyphicon glyphicon-thumbs-up"></span>
                <span class="text1">
                    赞一下            </span> (<span class="num2">0</span>)</a>
        </blockquote><!--  onclick="setGood(this,13,4)" -->

    </div>
    
    <!-- ====分页===== -->
    <div class='col-xs-12 text-center pages'>
        <div><span class="rows">共 7 篇文章</span> 1/2页   <span class="current">1</span><a class="num" href="/blog/articles/category/3/page/2">2</a> <a class="next" href="/blog/articles/category/3/page/2">下一页</a> </div>    </div>
</div>
<link rel="stylesheet" href="/blog/Public/Index/dz/css/animate.css" type="text/css" />
<script src="/blog/Public/Index/dz/js/jquery.min.js" type="text/javascript"></script>
<script src="/blog/Public/Index/dz/js/dz.js" type="text/javascript"></script>
<script>
    /*************************未限制ip，包括点击量，待做**********************************/
    /*************************未限制ip，包括点击量，待做**********************************/
    /*************************未限制ip，包括点击量，待做**********************************/
    /*************************未限制ip，包括点击量，待做**********************************/

    function niceIn(obj){
        obj.find('span').first().addClass('niceIn');
        setTimeout(function(){
            obj.find('span').first().removeClass('niceIn');
        },1000);
    }

    function setLike(obj,id){

        var i = 0;
        $(obj).attr("disabled",true);
        $.tipsBox({
            obj: $(obj),
            str: "+1",
            callback: function () {

                if(i>0){
                    return false;
                }

                $.ajax({
                    type : 'post',
                    url : '/blog/Home/Index/ajaxSetGood/id/'+id,
                    async:false,
                    success : function(response){

                        if(response.status){

                            var num = parseInt($(obj).find('.num2').first().text())+1;
                            $(obj).find('.num2').first().html(num);
                            $(obj).find('.text1').first().html('已赞~');
                            i++;
                        }else{
                            $(obj).attr("disabled",false);
                            alert(response.result);
                        }

                    }
                });


            }
        });

        niceIn($(obj));

    }

/*
    //点赞
    $('.btn1').click(function(){
        var o = $(this);
        var id = $(this).attr('aid');
        o.attr('disabled', 'true');
        $.tipsBox({
            obj: $(this),
            str: "+1",
            callback: function () {

                $.ajax({
                    type : 'post',
                    url : '/blog/Home/Index/ajaxSetGood/id/'+id,
                    async:false,
                    success : function(response){

                        if(response.status){
                            var num = parseInt(o.find('.num1').first().text())+1;
                            alert(num);
                            o.find('.num1').first().html(num);
                            o.find('.text1').first().html('已赞~');


                        }else{
                            alert(response.result);
                        }

                    }
                });


            }
        });

        niceIn($(this));
    });
*/




</script>
            <!-- ===================================left article end=============================================== -->


            <!-- ===================================right start=============================================== -->
            <div class='col-xs-3'>

                <div class="col-xs-12">
                    <h2>标签</h2>
                    <ul  class="list-inline">
                                                <li style="display:inline;line-height:18px;">
                            <label class="middle">
                                <a href="/blog/articles/tag/1" title="Mysql" style="cursor: pointer">
                                    <span class="label" style="background:#5e5ca7;" >Mysql</span>
                                </a>
                            </label>
                        </li>
                                                <li style="display:inline;line-height:18px;">
                            <label class="middle">
                                <a href="/blog/articles/tag/2" title="thinkphp" style="cursor: pointer">
                                    <span class="label" style="background:#9e005c;" >thinkphp</span>
                                </a>
                            </label>
                        </li>
                                                <li style="display:inline;line-height:18px;">
                            <label class="middle">
                                <a href="/blog/articles/tag/3" title="PHP" style="cursor: pointer">
                                    <span class="label" style="background:#8fc63d;" >PHP</span>
                                </a>
                            </label>
                        </li>
                                                <li style="display:inline;line-height:18px;">
                            <label class="middle">
                                <a href="/blog/articles/tag/4" title="Session" style="cursor: pointer">
                                    <span class="label" style="background:#6ccff7;" >Session</span>
                                </a>
                            </label>
                        </li>
                                                <li style="display:inline;line-height:18px;">
                            <label class="middle">
                                <a href="/blog/articles/tag/6" title="无限级分类" style="cursor: pointer">
                                    <span class="label" style="background:#f68e54;" >无限级分类</span>
                                </a>
                            </label>
                        </li>
                                                <li style="display:inline;line-height:18px;">
                            <label class="middle">
                                <a href="/blog/articles/tag/7" title="字符集" style="cursor: pointer">
                                    <span class="label" style="background:#00a650;" >字符集</span>
                                </a>
                            </label>
                        </li>
                                                <li style="display:inline;line-height:18px;">
                            <label class="middle">
                                <a href="/blog/articles/tag/8" title="cookie" style="cursor: pointer">
                                    <span class="label" style="background:#bc8cbf;" >cookie</span>
                                </a>
                            </label>
                        </li>
                                                <li style="display:inline;line-height:18px;">
                            <label class="middle">
                                <a href="/blog/articles/tag/9" title="优化" style="cursor: pointer">
                                    <span class="label" style="background:#fdc68c;" >优化</span>
                                </a>
                            </label>
                        </li>
                                                <li style="display:inline;line-height:18px;">
                            <label class="middle">
                                <a href="/blog/articles/tag/10" title="Js" style="cursor: pointer">
                                    <span class="label" style="background:#a1410d;" >Js</span>
                                </a>
                            </label>
                        </li>
                                                <li style="display:inline;line-height:18px;">
                            <label class="middle">
                                <a href="/blog/articles/tag/11" title="jQuery" style="cursor: pointer">
                                    <span class="label" style="background:#7c4900;" >jQuery</span>
                                </a>
                            </label>
                        </li>
                                            </ul>


                </div>
                <div class="col-xs-12">
                    <h2>最近发布</h2>
                    <ul style="font-weight:bold;color:red;">
                                                <li><a href="/blog/articles/ar/33" style="font-weight:bold;">Js中函数参数设置默认值的方法</a></li>
                                                <li><a href="/blog/articles/ar/32" style="font-weight:bold;">Js判断变量是否存在的方法</a></li>
                                                <li><a href="/blog/articles/ar/31" style="font-weight:bold;">MYSQL添加外键时的注意事项</a></li>
                                                <li><a href="/blog/articles/ar/25" style="font-weight:bold;">thinkphp3.2分页路由</a></li>
                                                <li><a href="/blog/articles/ar/23" style="font-weight:bold;">PHP文件下载</a></li>
                                                <li><a href="/blog/articles/ar/17" style="font-weight:bold;">jQuery按钮倒计时，点击</a></li>
                                                <li><a href="/blog/articles/ar/16" style="font-weight:bold;">无限极分类（传统foreach集合parent_id实现）</a></li>
                                                <li><a href="/blog/articles/ar/13" style="font-weight:bold;">PHP中cookie跨目录、跨域名访问</a></li>
                                                <li><a href="/blog/articles/ar/12" style="font-weight:bold;">mysql 表锁（转）</a></li>
                                                <li><a href="/blog/articles/ar/11" style="font-weight:bold;">php 文件锁（目的：处理并发，如：抢购商品）（转）</a></li>
                        
                    </ul>
                </div>
                <div class="col-xs-12">
                    <h2>阅读排行</h2>
                    <ol style="font-weight:bold;color:green;">
                                                <li><a href="/blog/articles/ar/33" style="font-weight:bold;">Js中函数参数设置默认值的方法</a></li>
                                                <li><a href="/blog/articles/ar/31" style="font-weight:bold;">MYSQL添加外键时的注意事项</a></li>
                                                <li><a href="/blog/articles/ar/10" style="font-weight:bold;">mysql中事务的使用</a></li>
                                                <li><a href="/blog/articles/ar/1" style="font-weight:bold;">sql语句中的union用法，注意！（转）</a></li>
                                                <li><a href="/blog/articles/ar/2" style="font-weight:bold;">php会话ID如何生成以及cookie被禁用后，session的设置</a></li>
                                                <li><a href="/blog/articles/ar/32" style="font-weight:bold;">Js判断变量是否存在的方法</a></li>
                                                <li><a href="/blog/articles/ar/6" style="font-weight:bold;">巧用引用，实现无限极分类（转）</a></li>
                                                <li><a href="/blog/articles/ar/25" style="font-weight:bold;">thinkphp3.2分页路由</a></li>
                                                <li><a href="/blog/articles/ar/16" style="font-weight:bold;">无限极分类（传统foreach集合parent_id实现）</a></li>
                                                <li><a href="/blog/articles/ar/4" style="font-weight:bold;">无限级分类，整合成树形结果（非引用“&”）</a></li>
                                            </ol>
                </div>
            </div>
            <!-- ===================================right end=============================================== -->
        </div>
    </div>
    <!-- ===================================footer start=============================================== -->
    <br /><br /><br />
    <div class="col-xs-12">
        <ul class="list-inline text-center">
            <li>Copyright &copy; 2017<a href="/blog/admin/index/index" target="_blank">.</a> 版权归 黄磊 本人所有. 备案号：黑ICP17000276号</li>
        </ul>
    </div>
    <!-- ===================================footer end=============================================== -->
</div>
</body>
</html>